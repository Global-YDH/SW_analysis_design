import java.util.*;
import java.text.*;
/**
 *
 * 
 * @author (2018225134 ㅌㅐ, 2019315002 ㄱㅜ, 2019315028 ㅇㅠ, 2019603035 ㅎㅕㄴ) 
 * @version (ㄱㅗㅏㅈㅔ#3)
 */
public class Loan
{
    private String loanDate;
    private String returnDate;
    private Borrower borrower;
    private Book book;
    
    public Loan(Borrower borrower, int catalogueNumber){
        this.loanDate = setLendDate();
        this.returnDate = setReturnDate();
    }

    public void attachBook(Book book){
        this.book = book;
    }

    public void attachBorrower(Borrower borrower){
        this.borrower = borrower;
    }
    
    public void detachBook() {
        this.book = null;
    }

    public void detachBorrower() {
        this.borrower = null;
    }
    
    public boolean checkLoan(Borrower borrower, int catalogueNumber){
        return true;
    }
    
    public Book getBook(){
        return this.book;
    }
    
    public Borrower getBorrower(){
        return this.borrower;
    }
    
    public String setReturnDate(){
        Calendar calendar = Calendar.getInstance();
        calendar.add(Calendar.DAY_OF_MONTH, +14);
        // 도서의 대출 기간을 14일로 설정
        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd"); 
        //날짜 포맷 설정
        Date time = calendar.getTime();
        String returnDate = format.format(time);
        return returnDate;
    }

    public String setLendDate(){
        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd");
        Date time = new Date();
        String lendDate = format.format(time);
        return lendDate;
    }
    
    public String getReturnDate() {
        return this.returnDate;
    }
}
